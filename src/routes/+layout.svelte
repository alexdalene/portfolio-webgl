<script>
	import gsap from 'gsap';
	import ScrollTrigger from 'gsap/dist/ScrollTrigger';
	import TextPlugin from 'gsap/dist/TextPlugin';
	import ScrollToPlugin from 'gsap/dist/ScrollToPlugin';

	import { onMount } from 'svelte';

	onMount(() => {
		gsap.registerPlugin(ScrollTrigger);
		gsap.registerPlugin(TextPlugin);
		gsap.registerPlugin(ScrollToPlugin);

		const svg = document.querySelector('#svg');

		gsap.to(svg, {
			xPercent: -25,
			scrollTrigger: {
				trigger: '#scroller',
				start: 'top top',
				end: 'bottom top',
				scrub: 1,
				ease: 'none'
			}
		});

		const links = gsap.utils.toArray('.link');

		links.forEach((link) => {
			const tl = gsap.timeline();

			link.addEventListener('mouseenter', (e) => {
				tl.play();

				tl.to(link, {
					duration: 0.2,
					text: '[ ' + link.textContent + ' ]',
					ease: 'none'
				});
			});

			link.addEventListener('mouseleave', () => {
				tl.reverse();
			});
		});

		const buttons = gsap.utils.toArray('button');

		buttons.forEach((button) => {
			button.addEventListener('click', () => {
				const link = button.querySelector('.link');
				const target = '#' + link.dataset.link;

				gsap.to(window, {
					duration: 1,
					scrollTo: {
						y: target,
						autoKill: false
					}
				});
			});
		});
	});
</script>

<div id="scroller">
	<header>
		<p>Â© 2024</p>
		<nav>
			<ul>
				<li><button><span class="link" data-link="arbeid">[ Arbeid ]</span></button></li>
				<li><button><span class="link" data-link="ferdigheter">[ Ferdigheter ]</span></button></li>
				<li><button><span class="link" data-link="kontakt">[ Kontakt ]</span></button></li>
			</ul>
		</nav>
	</header>

	<div id="name" focusable="false" aria-hidden="true">
		<svg
			width="1665"
			height="255"
			viewBox="0 0 1665 255"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
			id="svg"
		>
			<path
				d="M163.62 246.92C172.233 246.92 178.24 246.24 181.64 244.88C185.267 243.52 187.08 240.007 187.08 234.34C187.08 228.673 181.073 209.407 169.06 176.54H65.36C55.6133 205.327 50.74 223.46 50.74 230.94C50.74 238.193 52.5533 242.727 56.18 244.54C60.0333 246.127 66.8333 246.92 76.58 246.92L77.26 251H0.76001L1.44001 246.92C8.01334 246.92 13.1133 246.353 16.74 245.22C20.5933 244.087 24.6733 241.14 28.98 236.38C33.5133 231.393 37.82 224.253 41.9 214.96C45.98 205.667 50.8533 192.633 56.52 175.86L86.78 88.48C97.4333 57.6534 102.76 38.9534 102.76 32.38C102.76 25.8067 101.173 21.6134 98 19.8C94.8267 17.76 88.7067 16.74 79.64 16.74L78.96 13H135.06L195.24 175.86C205.44 202.833 212.24 219.947 215.64 227.2C219.267 234.453 222.667 239.1 225.84 241.14C231.507 244.993 238.647 246.92 247.26 246.92L247.94 251H162.94L163.62 246.92ZM116.02 31.36L68.08 168.38H166.34L116.02 31.36Z"
				fill="#161314"
			/>
			<path
				d="M281.013 0.76001V191.84C281.013 217 282.486 232.527 285.433 238.42C288.38 244.087 296.54 246.92 309.913 246.92L310.593 251H227.293L227.973 246.92C241.573 246.92 249.846 244.087 252.793 238.42C255.74 232.753 257.213 217.227 257.213 191.84V61.96C257.213 36.8 255.853 21.6133 253.133 16.4C252.226 14.8134 250.526 13.2267 248.033 11.64C245.54 10.0534 242.82 9.14669 239.873 8.92003C237.153 8.69335 233.186 8.58001 227.973 8.58001L227.293 4.84002C244.293 2.12001 262.2 0.76001 281.013 0.76001Z"
				fill="#161314"
			/>
			<path
				d="M454.687 164.98H343.167V170.76C343.167 194.787 348.267 213.147 358.467 225.84C368.667 238.307 381.36 244.54 396.547 244.54C419.213 244.54 435.533 235.473 445.507 217.34L450.607 220.06C438.82 242.953 419.1 254.4 391.447 254.4C371.047 254.4 353.593 247.033 339.087 232.3C324.58 217.567 317.327 197.733 317.327 172.8C317.327 147.64 323.673 127.013 336.367 110.92C349.287 94.8267 366.4 86.78 387.707 86.78C409.24 86.78 425.787 94.1467 437.347 108.88C448.907 123.387 454.687 142.087 454.687 164.98ZM388.727 93.58C375.58 93.58 365.153 99.2467 357.447 110.58C349.967 121.687 345.433 136.533 343.847 155.12H428.507C426.92 114.093 413.66 93.58 388.727 93.58Z"
				fill="#161314"
			/>
			<path
				d="M577.814 103.1C577.814 97.2067 572.034 94.26 560.474 94.26L559.794 90.18H622.354L621.674 94.26C615.781 94.26 609.094 95.5067 601.614 98C597.081 99.5867 588.128 110.24 574.754 129.96C569.314 137.893 564.668 144.467 560.814 149.68L548.914 166L571.014 202.38C582.348 221.193 591.414 233.32 598.214 238.76C605.014 244.2 613.401 246.92 623.374 246.92L624.054 251H543.814L544.494 246.92C551.068 246.92 555.601 246.467 558.094 245.56C560.588 244.653 561.834 242.273 561.834 238.42C561.834 234.34 556.054 222.893 544.494 204.08L532.254 184.36L524.094 195.92C508.681 217 500.974 231.053 500.974 238.08C500.974 243.973 506.301 246.92 516.954 246.92L517.634 251H454.734L455.414 246.92C466.068 246.92 473.774 245.107 478.534 241.48C480.801 239.44 482.614 237.853 483.974 236.72C485.561 235.587 487.828 233.093 490.774 229.24C493.948 225.16 496.328 221.987 497.914 219.72C499.501 217.453 502.448 213.147 506.754 206.8C511.288 200.453 515.028 195.353 517.974 191.5L528.174 177.22L507.094 142.2C494.854 122.253 485.561 109.333 479.214 103.44C473.094 97.32 465.841 94.26 457.454 94.26L456.774 90.18H530.214L529.534 94.26C523.414 94.26 519.108 94.8267 516.614 95.96C514.121 96.8667 512.874 98.5667 512.874 101.06C512.874 103.327 519.788 116.473 533.614 140.5L544.834 159.2L554.694 145.26C570.108 124.18 577.814 110.127 577.814 103.1Z"
				fill="#161314"
			/>
			<path
				d="M760.75 13C799.737 13 828.977 16.4 848.47 23.2C857.31 26.3734 866.717 30.9067 876.69 36.8C886.664 42.6933 894.71 49.72 900.83 57.88C907.177 66.04 912.39 76.4667 916.47 89.16C920.777 101.853 922.93 116.133 922.93 132C922.93 147.64 920.777 161.807 916.47 174.5C912.39 186.967 907.177 197.28 900.83 205.44C894.71 213.6 887.004 220.74 877.71 226.86C868.644 232.753 860.03 237.173 851.87 240.12C843.71 243.067 834.644 245.447 824.67 247.26C811.297 249.753 797.584 251 783.53 251H692.07L692.75 246.92C704.084 246.92 712.357 244.767 717.57 240.46C723.237 235.7 726.07 213.6 726.07 174.16V89.84C726.07 65.5867 725.277 49.04 723.69 40.2C722.33 31.1334 720.29 25.4667 717.57 23.2C712.357 18.8934 704.084 16.74 692.75 16.74L692.07 13H760.75ZM762.45 242.84C765.17 243.067 770.724 243.18 779.11 243.18C787.724 243.18 797.017 242.273 806.99 240.46C817.19 238.647 827.617 235.247 838.27 230.26C849.15 225.047 858.444 218.473 866.15 210.54C874.084 202.607 880.544 191.953 885.53 178.58C890.744 164.98 893.35 149.567 893.35 132.34C893.35 114.887 890.857 99.4734 885.87 86.1C880.884 72.7267 874.424 62.0733 866.49 54.14C858.557 45.98 849.264 39.2934 838.61 34.08C819.797 25.24 799.057 20.82 776.39 20.82C766.19 20.82 757.35 21.5 749.87 22.86V178.24C749.87 202.72 750.55 218.927 751.91 226.86C753.27 234.793 756.784 240.12 762.45 242.84Z"
				fill="#161314"
			/>
			<path
				d="M1057.8 141.18V175.52C1057.8 200.68 1058.59 217.227 1060.18 225.16C1061.77 232.867 1065.62 236.72 1071.74 236.72C1075.59 236.72 1080.69 235.133 1087.04 231.96L1088.74 235.36C1086.93 236.72 1084.55 238.42 1081.6 240.46C1078.65 242.273 1072.65 244.767 1063.58 247.94C1054.51 251.113 1045.79 252.7 1037.4 252.7C1035.13 243.18 1034 227.993 1034 207.14C1029.01 221.193 1022.44 232.64 1014.28 241.48C1006.35 250.093 995.239 254.4 980.959 254.4C966.679 254.4 955.345 250.66 946.959 243.18C938.799 235.473 934.719 225.047 934.719 211.9C934.719 175.407 967.812 157.047 1034 156.82V144.58C1034 128.26 1031.62 115.793 1026.86 107.18C1022.1 98.5667 1013.26 94.26 1000.34 94.26C993.085 94.26 987.192 96.0734 982.659 99.7C978.125 103.327 975.065 107.293 973.479 111.6C969.625 123.387 963.845 129.28 956.139 129.28C948.659 129.28 944.919 125.087 944.919 116.7C944.919 108.087 950.585 100.947 961.919 95.28C973.252 89.6134 986.965 86.78 1003.06 86.78C1019.15 86.78 1032.3 91.4267 1042.5 100.72C1052.7 109.787 1057.8 123.273 1057.8 141.18ZM960.559 213.26C960.559 222.1 962.712 229.467 967.019 235.36C971.325 241.027 978.125 243.86 987.419 243.86C996.939 243.86 1005.55 239.327 1013.26 230.26C1020.97 220.967 1026.18 210.767 1028.9 199.66C1031.85 188.327 1033.55 176.653 1034 164.64C1008.84 164.867 990.252 169.513 978.239 178.58C966.452 187.647 960.559 199.207 960.559 213.26Z"
				fill="#161314"
			/>
			<path
				d="M1142.57 0.76001V191.84C1142.57 217 1144.04 232.527 1146.99 238.42C1149.93 244.087 1158.09 246.92 1171.47 246.92L1172.15 251H1088.85L1089.53 246.92C1103.13 246.92 1111.4 244.087 1114.35 238.42C1117.29 232.753 1118.77 217.227 1118.77 191.84V61.96C1118.77 36.8 1117.41 21.6133 1114.69 16.4C1113.78 14.8134 1112.08 13.2267 1109.59 11.64C1107.09 10.0534 1104.37 9.14669 1101.43 8.92003C1098.71 8.69335 1094.74 8.58001 1089.53 8.58001L1088.85 4.84002C1105.85 2.12001 1123.75 0.76001 1142.57 0.76001Z"
				fill="#161314"
			/>
			<path
				d="M1316.24 164.98H1204.72V170.76C1204.72 194.787 1209.82 213.147 1220.02 225.84C1230.22 238.307 1242.91 244.54 1258.1 244.54C1280.77 244.54 1297.09 235.473 1307.06 217.34L1312.16 220.06C1300.37 242.953 1280.65 254.4 1253 254.4C1232.6 254.4 1215.15 247.033 1200.64 232.3C1186.13 217.567 1178.88 197.733 1178.88 172.8C1178.88 147.64 1185.23 127.013 1197.92 110.92C1210.84 94.8267 1227.95 86.78 1249.26 86.78C1270.79 86.78 1287.34 94.1467 1298.9 108.88C1310.46 123.387 1316.24 142.087 1316.24 164.98ZM1250.28 93.58C1237.13 93.58 1226.71 99.2467 1219 110.58C1211.52 121.687 1206.99 136.533 1205.4 155.12H1290.06C1288.47 114.093 1275.21 93.58 1250.28 93.58Z"
				fill="#161314"
			/>
			<path
				d="M1384.63 86.78V147.64C1386.67 131.32 1392.34 117.153 1401.63 105.14C1410.92 92.9 1423.28 86.78 1438.69 86.78C1473.37 86.78 1490.71 104.913 1490.71 141.18V194.9C1490.71 218.473 1492.18 233.093 1495.13 238.76C1498.3 244.2 1506.46 246.92 1519.61 246.92L1520.29 251H1437.67L1438.35 246.92C1451.95 246.92 1460.11 244.087 1462.83 238.42C1465.55 232.753 1466.91 217.227 1466.91 191.84V144.58C1466.91 128.94 1464.42 117.153 1459.43 109.22C1454.67 101.287 1446.96 97.32 1436.31 97.32C1425.88 97.32 1417.16 100.947 1410.13 108.2C1403.1 115.227 1397.89 124.18 1394.49 135.06C1387.92 156.14 1384.63 177.333 1384.63 198.64C1384.63 219.947 1385.99 233.32 1388.71 238.76C1391.66 244.2 1399.82 246.92 1413.19 246.92L1413.87 251H1330.91L1331.59 246.92C1345.19 246.92 1353.46 244.2 1356.41 238.76C1359.36 233.093 1360.83 218.247 1360.83 194.22V167.02C1360.83 133.02 1359.13 112.507 1355.73 105.48C1354.6 102.987 1352.56 100.72 1349.61 98.68C1346.89 96.64 1343.83 95.3934 1340.43 94.94C1337.26 94.4867 1332.84 94.26 1327.17 94.26L1326.49 90.52C1346.21 88.0267 1365.59 86.78 1384.63 86.78Z"
				fill="#161314"
			/>
			<path
				d="M1664.41 164.98H1552.89V170.76C1552.89 194.787 1557.99 213.147 1568.19 225.84C1578.39 238.307 1591.08 244.54 1606.27 244.54C1628.94 244.54 1645.26 235.473 1655.23 217.34L1660.33 220.06C1648.54 242.953 1628.82 254.4 1601.17 254.4C1580.77 254.4 1563.32 247.033 1548.81 232.3C1534.3 217.567 1527.05 197.733 1527.05 172.8C1527.05 147.64 1533.4 127.013 1546.09 110.92C1559.01 94.8267 1576.12 86.78 1597.43 86.78C1618.96 86.78 1635.51 94.1467 1647.07 108.88C1658.63 123.387 1664.41 142.087 1664.41 164.98ZM1598.45 93.58C1585.3 93.58 1574.88 99.2467 1567.17 110.58C1559.69 121.687 1555.16 136.533 1553.57 155.12H1638.23C1636.64 114.093 1623.38 93.58 1598.45 93.58Z"
				fill="#161314"
			/>
		</svg>
	</div>

	<main>
		<slot />
	</main>
</div>

<style>
	@import url('https://fonts.googleapis.com/css2?family=Gilda+Display&display=swap');
	@import url('https://fonts.googleapis.com/css2?family=Gilda+Display&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap');

	:root {
		--color-background: #f1f2ee;
		--color-text: #161314;
		--color-neutral: #fdfdfc;

		--font-display: 'Gilda Display', serif;
		--font-body: 'Raleway', sans-serif;

		--padding-body: clamp(0.625rem, 2vw, 2.5rem);

		--spacing-loose: 7.5rem; /* 120px */
		--spacing-wide: 5rem; /* 80px */
		--spacing-default: 2.5rem; /* 40px */
		--spacing-tight: 1.25rem; /* 20px */
		--spacing-compact: 0.625rem; /* 10px */
		--spacing-fit: 0.3125rem; /* 5px */

		--text-default: clamp(0.75rem, 2vw, 1rem);
		--text-large: clamp(1rem, 2vw, 1.25rem);
		--text-huge: clamp(2rem, 2vw, 2.5rem);
	}

	:global(body) {
		background-color: var(--color-background);
		color: var(--color-text);

		font-family: var(--font-body);
		font-weight: 500;
		font-size: var(--text-default);
		font-optical-sizing: auto;
		color-scheme: light;
		line-height: 1.5;
	}

	:global(html) {
		text-rendering: optimizeLegibility;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;

		& ::selection {
			background-color: var(--color-text);
			color: var(--color-background);
		}
	}

	#name {
		overflow-x: hidden;
		width: 100%;
		margin-block: var(--spacing-default);

		& svg {
			height: fit-content;
			width: 140%;
		}
	}

	header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-top: var(--spacing-tight);
		padding-inline: var(--padding-body);

		& nav > ul {
			display: flex;
			gap: var(--spacing-tight);

			& li {
				text-transform: uppercase;

				& button {
					cursor: pointer;
				}
			}
		}
	}

	main {
		padding-inline: var(--padding-body);
		margin-bottom: var(--spacing-loose);
	}
</style>
